<br/>
<div class="row bg-info">
  <div class="col-xs-12">
    <hr/>
  </div>
  <div class="col-md-4">
    <label class="form-control-label">Change Email Address</label>
  </div>
  <div class="col-md-6">
    <form
      id="changeForm"
      novalidate
      [formGroup]="changeEmailForm"
      (ngSubmit)="submitForm()"
      align="center"
    >
      <div class="form-group" [ngClass]="{'has-error':!changeEmailForm.controls['email'].valid && submitAttempt}">
        <input
          type="email"
          name="email"
          class="form-control"
          [formControl]="changeEmailForm.controls['email']"
          placeholder="Enter new email Address"
        />
        <div class="has-error" *ngIf="changeEmailForm.controls['email'].hasError('required') && submitAttempt">
          <span class="help-block">Required</span>
        </div>
        <div class="has-error" *ngIf="!changeEmailForm.controls['email'].hasError('required') && changeEmailForm.controls['email'].hasError('validateEmail') && submitAttempt">
          <span class="help-block">Enter a valid email</span>
        </div>
      </div>

      <div class="form-group" [ngClass]="{'has-error':!changeEmailForm.controls['confirmEmail'].valid && submitAttempt}">
        <input
          type="email"
          name="confirmEmail"
          class="form-control"
          validateEqual="email"
          [formControl]="changeEmailForm.controls['confirmEmail']"
          placeholder="Confirm email Address"
        />
        <div class="has-error" *ngIf="changeEmailForm.controls['confirmEmail'].hasError('required') && submitAttempt">
          <span class="help-block">Required</span>
        </div>
        <div class="has-error" *ngIf="!changeEmailForm.controls['confirmEmail'].hasError('required') && changeEmailForm.controls['confirmEmail'].hasError('validateEmail') && submitAttempt">
          <span class="help-block">Enter a valid email</span>
        </div>
        <div class="has-error" *ngIf="!changeEmailForm.controls['confirmEmail'].hasError('required') && !changeEmailForm.controls['confirmEmail'].hasError('validateEmail') && submitAttempt && !(changeEmailForm.controls['confirmEmail'].value == changeEmailForm.controls['email'].value)">
          <span class="help-block">Email mismatch</span>
        </div>
      </div>

      <div class="text-right">
        <button class="btn btn-primary"  type="submit" [disabled]="">Save</button>
        <button class="btn btn-default" type="button" (click)="emitCancel()">Cancel</button>
      </div>

      <!--<ng-container *ngIf="IsResetSuccessful">-->
        <!--<br/>-->
        <!--<div class="alert alert-success">Email updated successfully!</div>-->
      <!--</ng-container>-->
      <ng-container *ngIf="IsError">
        <br/>
        <div class="alert alert-danger">Error: + {{errorMessage}}!</div>
      </ng-container>
    </form>
    <hr/>
  </div>
</div>
