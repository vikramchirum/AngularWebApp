<div class="container-fluid">
  <div class="row">
    <div class="col-md-4">
      <div class="my-gexa-login-form">
        <h1>myGexa</h1><br><br>
        <form (ngSubmit)="login()" #myGexaLoginForm="ngForm" >
          <div class="form-group" [ngClass]="{ 'has-error': error !== null }">
            <div class="input-group">
              <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
              <input [(ngModel)]="user_name" [disabled]="processing" name="user_name" type="text" class="form-control" placeholder="Username" required #username="ngModel">
            </div>
            <small [hidden]="username.valid || username.pristine || processing" class="text-danger">Username is required</small>
          </div>
          <div class="form-group" [ngClass]="{ 'has-error': error !== null }">
            <div class="input-group">
              <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
              <input [(ngModel)]="password" [disabled]="processing" name="password" type="password" class="form-control" placeholder="Password" required #em="ngModel">
            </div>
            <small [hidden]="em.valid || em.pristine || processing" class="text-danger">Password is required</small>
          </div>
          <div *ngIf="error != null">
            <small class="text-danger">Either username or password is wrong</small>
          </div><br>
          <div>
              <a href="">Forgot Password?</a>
              <button type="submit" class="btn btn-wireframe pull-right" [ngClass]="{'hidden': processing }" [disabled]="!myGexaLoginForm.form.valid">Login</button>
            <button type="button" class="btn btn-wireframe pull-right"  [ngClass]="{'hidden': !processing }" ><i class="fa fa-spin fa-cog"></i> Logging in...</button>
           </div><br>
          <hr class="hidden-sm hidden-xs">
          <div>
            <a href="" style="font-size: small">Forgot Username?</a>
          </div>
          <hr class="line-border  hidden-sm hidden-xs">
          <div class="form-group">
            <div class="social-media-icon">
              <i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i> <a> Login with facebook</a>
            </div>
          </div>
          <div class="form-group">
            <div class="social-media-icon">
             <i class="fa fa-linkedin-square fa-2x" aria-hidden="true"></i> <a>Login with Linkedin</a>
            </div>
          </div>
          <hr class="line-border  hidden-sm hidden-xs">
          <div class="form-group">
            <label>Do you have an account?</label>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-wireframe" data-toggle="modal" data-target="#register" (click)="disableLogin()">Sign Up</button>
          </div>
        </form>
      </div>
    </div>
    <div class="col-md-8 hidden-xs video-container">
      <video class="my-gexa-video" muted loop playsinline controls preload="none" poster="assets/login/my-gexa.jpg">
      <source src="assets/login/my-gexa.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' />
    Your browser does not support the video tag.
    </video>
    </div>
  </div>
</div>


<!--Register Modal -->
<div id="register" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Register Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close fa fa-times fa-2x" style="padding:15px 100px 10px 0px"
                data-dismiss="modal"></button>
        <h2 class="modal-title">Register</h2>
      </div>
      <div class="modal-body container">
        <div class="container">
          <div class="row">
            <div class="col-md-4">
              <div class="text-center">
                <form id="registration" novalidate [formGroup]="registerForm" (ngSubmit)="save(registerForm.value, registerForm.valid)">

                  <div class="form-group row inputRow" [ngClass]="{'has-error':registerForm.controls['Billing_Account_Id'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon ">
                      <span class=""><i class="fa fa-wrench fa-fw"></i></span>
                    </div>
                    <input  name="Billing_Account_Id" type="text" class="form-control line-border"
                            [formControl]="registerForm.controls['Billing_Account_Id']"
                            placeholder="Enter your Service Account Number">
                    <div class="has-error" *ngIf="!registerForm.controls['Billing_Account_Id'].hasError('required')
                    && formSubmitted">
                      <span class="help-block">Service number is required.</span>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':registerForm.controls['Zip'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon">
                      <span class=""><i class="fa fa-map-marker fa-fw"></i></span>
                      <input name="Zip" type="text" class="form-control line-border"
                             placeholder=" Enter your Zipcode" [formControl]="registerForm.controls['Zip']">
                    </div>
                    <div class="has-error" *ngIf="!registerForm.controls['Zip'].hasError('required')
                    && formSubmitted">
                      <span class="help-block">Zip code is required.</span>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':registerForm.controls['User_name'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon">
                      <span class=""><i class="fa fa-user fa-fw"></i></span>
                      <input  name="User_name" type="text" class="form-control line-border"
                             placeholder="Enter Username"
                              [formControl]="registerForm.controls['User_name']">
                    </div>
                    <div class="has-error" *ngIf="!registerForm.controls['User_name'].hasError('required')
                    && formSubmitted">
                      <span class="help-block">Username is required.</span>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':registerForm.controls['Password'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon">
                      <span class=""><i class="fa fa-key fa-fw"></i></span>
                      <input name="Password" type="password" class="form-control line-border"
                              placeholder="Enter Password"
                             [formControl]="registerForm.controls['Password']">
                      <button type="button" style="background-color:white" class="btn modal-body faRight"
                              tooltip="Passwords must be at least 6 characters."
                              placement="bottom">
                        <span class="faRight"><i class="fa fa-info-circle fa-fw"></i></span>
                      </button>
                    </div>
                    <div class="has-error" *ngIf="!registerForm.controls['Password'].hasError('required')
                    && formSubmitted">
                      <span class="help-block">Password is required.</span>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':registerForm.controls['ConfirmPassword'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon">
                      <span class=""><i class="fa fa-key fa-fw"></i></span>
                      <input name="ConfirmPassword" class="form-control line-border"
                             placeholder="Confirm Password"
                             [formControl]="registerForm.controls['ConfirmPassword']">
                      <button type="button" style="background-color:white" class="btn modal-body faRight"
                              tooltip="Passwords must match."
                              placement="bottom">
                        <span class="faRight"><i class="fa fa-info-circle fa-fw"></i></span>
                      </button>
                    </div>
                    <div class="has-error" *ngIf="!registerForm.controls['ConfirmPassword'].hasError('required')
                    && formSubmitted">
                      <span class="help-block">Confirm Password is required.</span>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Email_Address'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon">
                      <span class=""><i class="fa fa-envelope fa-fw" style="color:gray"></i></span>
                      <input name="Email_Address" type="text"
                             class="form-control line-border" placeholder="Enter Email"
                             [formControl]="registerForm.controls['Email_Address']">
                    </div>
                    <div class="has-error" *ngIf="registerForm.controls['Email_Address'].hasError('required') && formSubmitted">
                      <span class="help-block">Email is required</span>
                    </div>
                    <div class="has-error" *ngIf="!registerForm.controls['Email_Address'].hasError('required')
                    && registerForm.controls['Email_Address'].hasError('validateEmail') && formSubmitted">
                      <span class="help-block">Enter a valid email. Email format should be <i>john@doe.com</i>.</span>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Security_Question_Id'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon">
                      <span class=""><i class="fa fa-question-circle fa-fw" style="color:gray"></i></span>
                      <select name="Security_Question_Id" class="form-control"  style="padding-left:40px " [formControl]="registerForm.controls['Security_Question_Id']">
                        <option value="0" selected="selected">Please select a security question</option>
                        <option *ngFor="let secQues of secQuesArray" [value]="secQues.Id">{{ secQues.Question }}</option>
                      </select>
                    </div>
                  </div>

                  <div class="form-group row inputRow" [ngClass]="{'has-error':registerForm.controls['Security_Question_Answer'].valid
                  && formSubmitted}">
                    <div class="inner-addon left-addon ">
                      <span class=""><i class="fa fa-lock fa-fw"></i></span>
                    </div>
                    <input  name="Security_Question_Answer" type="text" class="form-control line-border"
                            [formControl]="registerForm.controls['Security_Question_Answer']"
                            placeholder="Enter your response.">
                    <div class="has-error" *ngIf="!registerForm.controls['Security_Question_Answer'].hasError('required')
                    && formSubmitted">
                      <span class="help-block">Response is required.</span>
                    </div>
                  </div>

                  <div class="text-right">
                    <button type="submit" [disabled]="!registerForm.valid"
                            class="btnreg btn-secondary pull-right text-uppercase">Register
                    </button>
                  </div>

                </form>
              </div>
            </div>
          </div>
        </div>

      </div>
      <!--<div class="modal-footer">-->
      <!--<button type="button" class="btn btn-default" data-dismiss="modal">Register</button>-->
      <!--</div>-->
      <!--</div>-->

    </div>

  </div>
</div>
