<div class="container-fluid view-my-bill">

  <h2>My Bill</h2>

  <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. </p>

  <br/>

  <h4>Bill details as of {{ date_today | date }}</h4>

  <div class="row">
    <div class="col-md-8">
      <div *ngFor="let bill of bills" class="view-my-bill-bill">

        <h4>April 10 2017<span class="pull-right">Invoice Number # {{ bill.invoice_number }}</span></h4>

        <div class="bill-breaker"></div>

        <div *ngFor="let charge of bill.charges">
          <div *ngIf="charge.items.length > 0; then listCharges else noChargesToList"></div>
          <ng-template #listCharges>
            <h2>{{ charge.title }}</h2>
            <table border="0" width="100%">
              <colgroup>
                <col width="80%"/>
                <col width="20%"/>
              </colgroup>
              <tbody>
              <tr *ngFor="let item of charge.items">
                <td class="bill-name"><span>{{ item.name }}</span><span class="bill-uasge" *ngIf="item.usage">{{ item.usage }}</span></td>
                <td class="bill-amount">{{ item.amount | NumberToMoneyPipe }}</td>
              </tr>
              <tr>
                <td><b>Sub Total</b></td>
                <td class="text-right"><b>${{ subtotal(charge) | NumberToMoneyPipe }}</b></td>
              </tr>
              </tbody>
            </table>
            <br/>
          </ng-template>
          <ng-template #noChargesToList>
            <h2>{{ charge.title }} <small>(No charges to list.)</small></h2>
          </ng-template>
        </div>

        <div class="bill-breaker"></div>

        <table border="0" width="100%">
          <tbody>
          <tr>
            <td><h2 class="text-muted">Total</h2></td>
            <td><h2 class="text-right">${{ total(bill) | NumberToMoneyPipe }}</h2></td>
          </tr>
          </tbody>
        </table>

      </div>
    </div>
    <div class="col-md-4">
      <div class="view-my-bill-billing-payment-preferences">
        <div class="view-my-bill-billing-pad">
          <p>Billing &amp; Payment Preferences</p>
          <br/>
          <a href="#"><i class="fa fa-fw fa-toggle-off pull-right"></i>Automatic Payments</a>
          <a href="#"><i class="fa fa-fw fa-toggle-off pull-right"></i>Budget Billing</a>
          <a href="#"><i class="fa fa-fw fa-toggle-off pull-right"></i>eBill (Paperless)</a>
        </div>
      </div>
      <div class="view-my-bill-billing-meter-information">
        <div class="view-my-bill-billing-header"><i class="fa fa-fw fa-tachometer"></i> Meter&nbsp;Information</div>
        <div class="view-my-bill-billing-pad">
          <p>Your next schedule meter reading is {{ 'April 14 2017' }}.</p>
          <br/>
          <p>Quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi.</p>
          <br/>
          <div class="text-right">
            <button class="btn btn-lg btn-default">Meter re-read / test</button>
          </div>
        </div>
      </div>
      <div class="view-my-bill-billing-power-outage">
        <div class="view-my-bill-billing-pad">
          <h2>Power Outage</h2>
          <p>If you have a power outage, please call:</p>
          <h1 class="text-center">1-800-356-8456</h1>
        </div>
      </div>
    </div>
  </div>

</div>
