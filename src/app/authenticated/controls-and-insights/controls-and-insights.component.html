<div class="container">
  <div class="row">
    <div class="col-sm-3 hidden-xs control-side-panel">
      <mygexa-left-nav-panel [sideNavData] = "{
        'panelTitle': 'Control and Insights',
        'items': [
          { 'title': 'Usage History', 'navUrl': 'usage-history'},
          { 'title': 'Energy Savings Tips', 'navUrl': 'energy-savings-tips'}

        ]
      }" ></mygexa-left-nav-panel>
    </div>
    <div class="col-sm-9 control-profile">
      <mygexa-service-account-selector
        [setActiveServiceAccount]="true" *ngIf="startsWith(Router.url, '/controls-and-insights/usage-history')"
      ></mygexa-service-account-selector>
      <mygexa-status-bar></mygexa-status-bar>
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<div class="container-fluid container-breakout bg-info"  *ngIf="startsWith(Router.url, '/controls-and-insights/usage-history')">
  <div class="container">
    <div class="row">
      <div class="col-md-3 hidden-xs  hidden-sm">
        <button
          class="btn btn-primary btn-block btn-round"
        ><i class="fa fa-fw fa-3x fa-file-excel-o"></i><br/>Insight History <span class="boxed">Download</span>
        </button>
      </div>
      <div class="col-sm-12 col-md-8 col-md-offset-1" style="margin-bottom: 10px;">
        <ng-container *ngIf="isDataAvailable">
          <h1>Energy Usage Table</h1>
          <table class="table table-responsive table-condensed">
            <tr>
              <th class='month'>Month</th>
              <th class='year'>Year</th>
              <th class='usage'>kWh</th>
            </tr>
            <tr *ngFor='let index of currentPage'>
              <td class='month'>{{ index.date | date:'MMMM' }}</td>
              <td class='year'>{{ index.date | date:'y' }}</td>
              <td class='usage'>{{ index.usage }}</td>
            </tr>
          </table>
          <pagination
            (pageChanged)="pageChanged($event)"
            [boundaryLinks]="true"
            [totalItems]="totalItems"
            class="pagination-sm"
            previousText="&lsaquo;"
            nextText="&rsaquo;"
            firstText="&laquo;"
            lastText="&raquo;"
          ></pagination>
        </ng-container>
      </div>
    </div>
  </div>
</div>
