<section class="login-register-modal">
  <div     [config]="{ backdrop: 'static', keyboard: false }"
           bsModal #loginRegisterModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
       aria-hidden="true">
    <div class="modal-dialog modal-md ">
      <div class="modal-content ">
        <div class="modal-header">
          <button type="button" class="close" aria-label="Close" (click)="reset()" style="padding:15px 100px 10px 0px;">
          <span class="close-btn" aria-hidden="true"><i class="fa fa-remove fa-2x"></i></span></button>
          <!--<button type="button" class="close fa fa-times fa-2x" style="padding:15px 100px 10px 0px"-->
                  <!--data-dismiss="modal" (click)="reset()"></button>-->
          <h2 class="modal-title"><b>Register</b></h2>
        </div>
        <div class="modal-body container">
              <div class="row">
                <div class="col-md-4">
                  <div class="text-center">
                    <form id="registration" novalidate [formGroup]="registerForm"
                          (ngSubmit)="save(registerForm.value, registerForm.valid)">
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Service_Account_Id'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon "> <span class=""><i class="fa fa-wrench fa-fw"></i></span>
                          <input name="Service_Account_Id" type="text" class="form-control line-border"
                                 [formControl]="registerForm.controls['Service_Account_Id']"
                                 placeholder="Enter your Service Account Number">
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['Service_Account_Id'].hasError('required')
                    && formSubmitted"> <span class="help-block">Service number is required.</span> </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Zip_Code'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon"> <span class=""><i class="fa fa-map-marker fa-fw"></i></span>
                          <input name="Zip_Code" type="text" class="form-control line-border"
                                 placeholder=" Enter your Zipcode" [formControl]="registerForm.controls['Zip_Code']">
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['Zip_Code'].hasError('required')
                    && formSubmitted"> <span class="help-block">Zip code is required.</span> </div>
                        <div class="has-error"
                             *ngIf="registerForm.controls['Zip_Code'].hasError('validateInteger') && registerForm.controls['Zip_Code'].touched"> <span class="help-block">Zip code should be a number.</span> </div>

                        <div *ngIf="registerForm.controls['Zip_Code'].hasError('minlength')
                    && registerForm.controls['Zip_Code'].touched" class="alert alert-danger">Zip must be at least 5
                          characters long. </div>
                        <div *ngIf="registerForm.controls['Zip_Code'].hasError('maxlength')
                    && registerForm.controls['Zip_Code'].touched" class="alert alert-danger">Zip cannot exceed 5
                          characters. </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['User_name'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon"> <span class=""><i class="fa fa-user fa-fw"></i></span>
                          <input name="User_name" type="text" class="form-control line-border"
                                 placeholder="Enter Username"
                                 [formControl]="registerForm.controls['User_name']">
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['User_name'].hasError('required')
                    && formSubmitted"> <span class="help-block">Username is required.</span> </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Password'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon"> <span class=""><i class="fa fa-key fa-fw"></i></span>
                          <input name="Password" type="password" class="form-control line-border"
                                 placeholder="Enter Password"
                                 [formControl]="registerForm.controls['Password']">
                          <button type="button" style="background-color:white" class="btn modal-body faRight"
                                  tooltip="Passwords must be at least 6 characters."
                                  placement="bottom"> <span class="faRight"><i class="fa fa-info-circle fa-fw"></i></span> </button>
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['Password'].hasError('required')
                    && formSubmitted"> <span class="help-block">Password is required.</span> </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['ConfirmPassword'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon"> <span class=""><i class="fa fa-key fa-fw"></i></span>
                          <input name="ConfirmPassword" class="form-control line-border"
                                 placeholder="Confirm Password" type="password"
                                 [formControl]="registerForm.controls['ConfirmPassword']">
                          <button type="button" style="background-color:white" class="btn modal-body faRight"
                                  tooltip="Passwords must match."
                                  placement="bottom"> <span class="faRight"><i class="fa fa-info-circle fa-fw"></i></span> </button>
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['ConfirmPassword'].hasError('required')
                    && formSubmitted"> <span class="help-block">Confirm Password is required.</span> </div>
                        <div class="has-error" *ngIf="!registerForm.controls['ConfirmPassword'].hasError('required')
                     && formSubmitted
                     && !(registerForm.controls['ConfirmPassword'].value == registerForm.controls['Password'].value)"> <span class="help-block">Passwords mismatch</span> </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Email_Address'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon"> <span class=""><i class="fa fa-envelope fa-fw" style="color:gray"></i></span>
                          <input name="Email_Address" type="text"
                                 class="form-control line-border" placeholder="Enter Email"
                                 [formControl]="registerForm.controls['Email_Address']">
                        </div>
                        <div class="has-error"
                             *ngIf="registerForm.controls['Email_Address'].hasError('required') && formSubmitted"> <span class="help-block">Email is required</span> </div>
                        <div class="has-error" *ngIf="!registerForm.controls['Email_Address'].hasError('required')
                    && registerForm.controls['Email_Address'].hasError('validateEmail') && formSubmitted"> <span class="help-block">Enter a valid email. Email format should be <i>john@doe.com</i>.</span> </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Security_Question_Id'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon"> <span class=""><i class="fa fa-question-circle fa-fw" style="color:gray"></i></span>
                          <select name="Security_Question_Id" class="form-control" style="padding-left:40px "
                                  [formControl]="registerForm.controls['Security_Question_Id']">
                            <option value="none">Please select a security question</option>
                            <option *ngFor="let secQues of secQuesArray" [value]="secQues.Id">{{ secQues.Question }} </option>
                          </select>
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['Security_Question_Id'].hasError('required')
                     && formSubmitted"> <span class="help-block">Security question is required.</span> </div>
                      </div>
                      <div class="form-group row inputRow" [ngClass]="{'has-error':!registerForm.controls['Security_Question_Answer'].valid
                  && formSubmitted}">
                        <div class="inner-addon left-addon "> <span class=""><i class="fa fa-lock fa-fw"></i></span>
                          <input name="Security_Question_Answer" type="text" class="form-control line-border"
                                 [formControl]="registerForm.controls['Security_Question_Answer']"
                                 placeholder="Enter your response.">
                        </div>
                        <div class="has-error" *ngIf="registerForm.controls['Security_Question_Answer'].hasError('required')
                    && formSubmitted"> <span class="help-block">Response is required.</span> </div>
                      </div>
                      <div class="form-group row inputRow"  *ngIf="errorMsg">
                        <div class="alert alert-danger" ><b>Error message: {{errorMsg}}</b></div>
                      </div>
                      <div class="text-right">
                        <button type="submit"
                                class="btnreg btn-secondary pull-right text-uppercase">Register </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
      </div>
    </div>
  </div>
  </div>
</section>
